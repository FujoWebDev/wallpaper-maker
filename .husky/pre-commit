#!/bin/sh

# Only block on upstream branches
branch="$(git rev-parse --abbrev-ref HEAD)"
case "$branch" in
  upstream*|pr-upstream*|to-upstream*)
    if git diff --cached --name-only | grep -q '^wallpapers/'; then
      echo "‚ùå Commit blocked: /wallpapers changes are not allowed on $branch"
      echo "If you want to commit wallpapers, switch to a non-upstream branch."
      echo "If you know what you're doing, you can bypass this check by running"
      echo "git commit with --no-verify."
      exit 1
    fi
    ;;
  *)
    # On other branches, allow all commits
    ;;
esac 